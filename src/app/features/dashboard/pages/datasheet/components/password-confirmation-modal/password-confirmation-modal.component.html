<div class="bg-white dark:bg-gray-900 p-6 rounded-lg">
    <!-- Header -->
    <div class="flex items-center space-x-3 mb-4">
        <div class="flex-shrink-0">
            <mat-icon class="text-orange-500 text-3xl">lock</mat-icon>
        </div>
        <div class="flex-1">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white">
                {{ data.title }}
            </h2>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
                {{ data.message }}
            </p>
        </div>
    </div>

    <!-- Form -->
    <form [formGroup]="passwordForm" (ngSubmit)="onConfirm()" class="space-y-4">
        <mat-form-field appearance="outline" class="w-full">
            <mat-label>Contraseña</mat-label>
            <input
                matInput
                type="password"
                formControlName="password"
                [placeholder]="data.placeholder || 'Ingrese su contraseña'"
                autocomplete="current-password">
            <mat-icon matSuffix>lock</mat-icon>
            @if (passwordForm.get('password')?.hasError('required') &&
            passwordForm.get('password')?.touched) {
            <mat-error>La contraseña es requerida</mat-error>
            }
        </mat-form-field>

        <!-- Loading state -->
        @if (isSubmitting()) {
        <div class="flex items-center justify-center py-2">
            <div
                class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"></div>
            <span
                class="ml-2 text-sm text-gray-600 dark:text-gray-400">Verificando...</span>
        </div>
        }

        <!-- Actions -->
        <div class="flex justify-end space-x-3 pt-4">
            <button
                type="button"
                mat-button
                (click)="onCancel()"
                [disabled]="isSubmitting()"
                class="text-gray-600 dark:text-gray-400">
                Cancelar
            </button>
            <button
                type="submit"
                mat-raised-button
                color="primary"
                [disabled]="passwordForm.invalid || isSubmitting()">
                Confirmar
            </button>
        </div>
    </form>
</div>