<!-- Modal Container with modern design -->
<div class="relative bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden">
  
  <!-- Header Section -->
  <div class="relative px-8 pt-8 pb-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-gray-800 dark:to-gray-700">
    <div class="flex items-center gap-4">
      <!-- Icon -->
      <div class="flex-shrink-0 w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center">
        <svg class="w-6 h-6 text-emerald-600 dark:text-emerald-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
        </svg>
      </div>
      <!-- Title -->
      <div>
        <h2 mat-dialog-title class="text-2xl font-semibold! text-gray-900 dark:text-white m-0!">
          Nuevo Proyecto
        </h2>
        <p class="text-sm text-gray-600 dark:text-gray-300 px-8">
          Selecciona el tipo de proyecto para continuar
        </p>
      </div>
    </div>
  </div>

  <!-- Content Section -->
  <mat-dialog-content class="px-8 py-8">
    <div class="space-y-6">      <!-- Form Field -->
      <div class="relative">
        <mat-form-field appearance="outline" class="w-full modern-form-field">
          <mat-label class="text-gray-700 dark:text-gray-300">Tipo de Proyecto</mat-label>
          <mat-select 
            [(value)]="selectedProjectType" 
            placeholder="Seleccione un tipo de proyecto">
            
            <!-- Custom trigger - lo que se muestra cuando hay selección -->
            <mat-select-trigger>
              @if (selectedProjectType) {
                <div class="flex items-center gap-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300">
                    {{ selectedProjectType.acronym }}
                  </span>
                  <span class=" text-gray-900 dark:text-gray-100">
                    {{ selectedProjectType.name }}
                  </span>
                </div>
              }
            </mat-select-trigger>

            <!-- Opciones del dropdown -->
            @for (projectType of data.projectTypes; track projectType.id) {
              <mat-option [value]="projectType">
                <div class="flex flex-col py-2">
                  <div class="flex items-center gap-3 mb-1">
                    <!-- Project Type Badge -->
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300">
                      {{ projectType.acronym }}
                    </span>
                    <span class="font-medium text-gray-900 dark:text-gray-100">
                      {{ projectType.name }}
                    </span>
                  </div>
                  <span class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">
                    {{ projectType.description }}
                  </span>
                </div>
              </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Helper Text -->
      @if (!selectedProjectType) {
        <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span>Selecciona un tipo de proyecto para continuar con la creación de la ficha técnica</span>
        </div>
      }
    </div>
  </mat-dialog-content>
  
  <!-- Actions Section -->
  <mat-dialog-actions class="px-8 py-6 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700">
    <div class="flex items-center justify-between w-full">
      <!-- Cancel Button -->
      <button 
        mat-button 
        (click)="onCancel()"
        class="px-6 py-2.5 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all duration-200 font-medium">
        Cancelar
      </button>
      
      <!-- Continue Button -->
      <button 
        mat-flat-button 
        (click)="onConfirm()"
        [disabled]="isConfirmDisabled()"
        class="px-8 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-400 text-white rounded-lg shadow-lg hover:shadow-xl disabled:shadow-none transition-all duration-200 font-semibold disabled:cursor-not-allowed min-w-[120px]">
        <span class="flex items-center gap-2">
          Continuar
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
        </span>
      </button>
    </div>
  </mat-dialog-actions>
</div>
